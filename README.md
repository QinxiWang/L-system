# L-system

This project presents the theory behind L-systems and their applications, and explores a Python implementation of L-systems.


I. What is an L‐system?

L-system is a parallel system that relies on rewriting grammars, and is often used to generate biological fractals. The formal construction of L-systems includes the following components, as defined by Prusinkiewicz and Lindenmayer in their book “The Algorithmic Beauty of Plants”:: 

1. A set of variables: symbols that can be replaced by production rules
2. A set of constants: symbols that do not get replaced.
3. A single axiom which is a string composed of some number of variables and/or constants. The axiom is the initial state of the system and is notated by “ω”.
4. A set of production rules defining the way variables can be replaced with combinations of constants and other variables. A production consists of two strings - the predecessor (consisting of a single symbol) and the successor.

The rewriting pattern is the most significant feature of the L-systems. When it is rewritten at a higher order, every instance of the letter p will be replaced by the string s. Variations are allowed in the rules, although p must be a single character, and cannot be one of the special symbols =, +, -, !, |, [, ], <, >, @, /, \, _, c, or the space character. Rewriting is case-sensitive, so, x = xXx is different from x = xxx.

For example, here is Lindenmayer’s original L-system for modeling the growth of algae:

axiom: A
rules: (A->AB), (B->A)
On iteration n, the following strings are produced:
n = 0: A
n = 1: AB
n = 2: ABA
n = 3: ABAAB
n = 4: ABAABABA
...

And so on. The difference between L-system and a formal grammar is that in every iteration, we apply all the rules possible, while in the latter, only one rule is applied in every iteration.

L-systems take on many forms, a few of the examples we have investigated including L-systems that have symbols(null symbols) that have no drawing operations associated with them, but add complexity when applying production rules; Stochastic L-systems(L-systems combined with chance operations) that allows multiple production rules for a single expression, each with a probability with the sum of all the probabilities must total to 1:
w: F
    p1: F (0.33)→ F[+F]F[-F]F
    p2: F (0.33)→ F[+F]F
    p3: F (0.33)→ F[-F]F
    



II. Examples

F: move forward a step of length d, drawing a line of the path
f:  move forward a step of length d, without drawing the line
+: turn left by angle δ
-: turn right by angle δ

Using L-systems, scientists can model the branching structures and plant growth over time. To do this, two new symbols, “[“ and “]: are introduced to simulate a branch. They are interpreted by the turtle as follows:
[: Push the current state of the turtle onto a pushdown. The information saved on the stack contains the turtle’s position and orientation, and possibly other attributes such as the color and width of lines being drawn. 
]: Pop a state from the stack and make it the current state of the turtle. No line is drawn, although in general the position of the turtle changes.


Example 1:

In this example, the language takes on one rule: F=F+F-CF--F+F+F, and ran through 4 iterations to generate this pattern, which I found quite interesting because it looks like three flowers resting on the tree edges, but all the fundamental structures are actually generated by replacing the previous symbol. I was also experimenting with different angles while creating this image, and combinatorics gives me the inspiration and apply 72. So between each ‘flower’, the twisting is more natural comparing to 90 degrees, which also gives the nice shape that resemble the ‘flower’ itself.  

Example 2:


In this example, the language takes on the axoim: F++F++F, and the rule F=+C0F--C1F+ and replace the process for 10 iterations to generate this symmetric pattern. I found this output especially interesting because instead of rigid geometry looks that I was experimenting, this pattern demonstrate a smooth contour, which looks like a butterfly. Same as the previous example, the fundamental structures are generated by replacing the previous symbol, the pattern has this mirroring characteristics base on the way the rule is set up. I am interested in investigating more about how the 35 degree angle is leading to a “overlapping” visual effect on the edges.

Example 3:


In this L-system, the image represented has one axiom (F=F-F-F) and one following rule. The first ‘iteration’ of this system can be seen as the equatorial triangles constructed by connecting each midpoint of each side in the largest triangles. From each side of these triangles, we get the midpoints and extrude triangles from that point outward. By repeating this methodology 5 times, we get the image below. I thought it was interesting to make the angle 120, as the ‘Forward’ movement followed by 120 degree turns meant the system’s lines constantly intersected each other.

